<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Music Visualizer</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Suppress favicon error -->
  <link rel="icon" href="data:," />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Teko:wght@300..700&display=swap" rel="stylesheet" />
</head>
<body>
  <!-- Dropdown Container -->
<div id="dropdown-container">
  <h3 id="song-title">Select Song:</h3>
  <select id="song-selector">
    <option value="fortnight.mp3">Fortnight</option>
    <option value="the-tortured-poets-department.mp3">The Tortured Poets Department</option>
    <option value="my-boy-only-breaks-his-favorite-toys.mp3">My Boy Only Breaks His Favorite Toys</option>
    <option value="down-bad.mp3">Down Bad</option>
    <option value="so-long-london.mp3">So Long, London</option>
    <option value="but-daddy-i-love-him.mp3">But Daddy I Love Him</option>
    <option value="fresh-out-the-slammer.mp3">Fresh Out the Slammer</option>
    <option value="florida.mp3">Florida!!!</option>
    <option value="guilty-as-sin.mp3">Guilty as Sin?</option>
    <option value="whos-afraid-of-little-old-me.mp3">Whoâ€™s Afraid of Little Old Me?</option>
    <option value="i-can-fix-him.mp3">I Can Fix Him (No Really I Can)</option>
    <option value="loml.mp3">loml</option>
    <option value="i-can-do-it-with-a-broken-heart.mp3">I Can Do It With a Broken Heart</option>
    <option value="the-smallest-man-who-ever-lived.mp3">The Smallest Man Who Ever Lived</option>
    <option value="the-alchemy.mp3">The Alchemy</option>
    <option value="clara-bow.mp3">Clara Bow</option>
    <option value="but-daddy-i-love-him.mp3">But Daddy I Love Him (Acoustic)</option>
</select>


</div>


  <!-- Album Art -->
  <img id="album-art" src="album.jpg" alt="Album Art" />

  <!-- Audio Player -->
  <audio id="audio-player" controls></audio>

  <!-- Captions Track -->
  <track id="captions-track" src="captions.vtt" kind="subtitles" srclang="en" label="English" default />

  <!-- GSAP Script -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>

  <!-- Three.js Module -->
  <script type="module">
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.module.js';
    window.THREE = THREE;
  </script>

  <!-- GSAP Animation for Album Art -->
  <script>
    const albumArt = document.getElementById('album-art');
    const songSelector = document.getElementById('song-selector');
    const songTitle = document.getElementById('song-title');

    // GSAP Glow Effect
    gsap.to(albumArt, {
      boxShadow: '0 0 20px 5px rgba(0, 123, 255, 0.8)', // Glow effect
      repeat: -1, // Infinite glow loop
      yoyo: true, // Smooth in-out glow
      duration: 1.5, // Glow transition
      ease: 'sine.inOut',
    });

    // GSAP Spinning Animation
    gsap.to(albumArt, {
      rotation: 360, // Full spin
      duration: 10, // Spins every 10 seconds
      repeat: -1, // Infinite loop
      ease: 'linear', // Continuous smooth spin
    });

    // Hover Animation for Zoom
    albumArt.addEventListener('mouseenter', () => {
      gsap.to(albumArt, { scale: 1.2, duration: 0.3 }); // Slight zoom-in effect
    });

    albumArt.addEventListener('mouseleave', () => {
      gsap.to(albumArt, { scale: 1.0, duration: 0.3 }); // Return to normal size
    });

    // Update Heading When Dropdown Changes
    songSelector.addEventListener('change', () => {
      const selectedOption = songSelector.options[songSelector.selectedIndex].text;
      songTitle.innerText = `Select Song: ${selectedOption}`;
    });
  </script>

  <!-- Main JavaScript -->
  <script type="module" src="index.js"></script>
</body>
</html>
